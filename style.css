/* style.css - iMac 5K Optimized Version (Logo Resized to 5vw) */

/* === 1. ì „ì²´ ì„¤ì • ë° ë³€ìˆ˜ === */
@import url('https://fonts.googleapis.com/css2?family=Stick&display=swap');
@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

:root { 
    --font-main: 'Pretendard', sans-serif; 
    --font-sub: 'Apple SD Gothic Neo', sans-serif; 
    --font-title: 'Stick', sans-serif; /* ë¡œê³  í°íŠ¸ ë³€ìˆ˜ ì¶”ê°€ */
    --color-bg: #ffffff; 
    --color-text-primary: #222222; 
    --color-text-secondary: #888888; 
    --color-border: #e0e0e0; 
    --color-black: #000000; 
}

#intro-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--color-bg);
    z-index: 1000;
    transition: opacity 0.8s ease-in-out;
}

#intro-container.hidden {
    opacity: 0;
    pointer-events: none;
}

.logo-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.logo-text {
    font-family: var(--font-title);
    /* [ìˆ˜ì •] ë¡œê³  í¬ê¸° ì¶•ì†Œ: 8vw -> 5vw (ë§¥ë¶ ë¹„ìœ¨ê³¼ ìœ ì‚¬í•˜ê²Œ ì¡°ì •) */
    font-size: 5vw; 
    font-weight: 400;
    color: var(--color-text-primary);
    line-height: 1.1;
    min-height: 1.1em;
    margin: 0;
}

#startBtn {
    position: absolute;
    bottom: 10%;
    left: 50%;
    transform: translateX(-50%);
}

.logo-text .dud {
    opacity: 0.3;
}

@font-face { font-family: 'Apple SD Gothic Neo'; font-weight: 500; font-style: normal; font-display: swap; src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Medium.woff2') format('woff2'), url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Medium.ttf') format('truetype'); }
body { margin: 0; font-family: var(--font-main); background-color: var(--color-bg); color: var(--color-text-primary); overflow: hidden; }

/* === 2. ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ === */
.btn { 
    /* [ìˆ˜ì •] px -> vw ë³€í™˜ */
    padding: 1vw 2vw; /* 14px 28px ëŒ€ì‘ */
    font-size: 1.1vw; /* 1rem ëŒ€ì‘ */
    background: var(--color-bg); color: var(--color-black); 
    border: 1px solid #ddd; border-radius: 0.6vw; /* 8px ëŒ€ì‘ */
    cursor: pointer; transition: all 0.2s ease; font-family: var(--font-sub); font-weight: 500; 
}
.btn:hover { background-color: #f5f5f5; transform: translateY(-0.2vw); }
.btn:disabled { cursor: not-allowed; background-color: #f9f9f9; color: #aaa; }
#retryBtn { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10000; }

/* === 3. ìŠ¤í¬ë¦½íŠ¸ í…ìŠ¤íŠ¸ ì˜ì—­ === */
#script-columns { display: flex; width: 100%; height: 100vh; position: absolute; top: 0; left: 0; }
.column { 
    width: 33.33%; height: 100%; overflow-y: scroll; 
    /* [ìˆ˜ì •] px -> vw ë³€í™˜ */
    padding: 2.6vw; /* 40px ëŒ€ì‘ */
    font-size: 8.5vw; /* 8rem ëŒ€ì‘ */
    line-height: 1.8; white-space: pre-wrap; box-sizing: border-box; border-right: 1px solid var(--color-border); 
}
.column:last-child { border-right: none; }
.column::-webkit-scrollbar { width: 4px; }
.column::-webkit-scrollbar-thumb { background-color: #bbb; border-radius: 2px; }

/* === 4. ì¬ì¡°í•© ë¬¸ì¥ ì‹œê°í™” === */
#sentence-container { 
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); 
    max-width: 90vw; 
    /* [ìˆ˜ì •] px -> vw ë³€í™˜ */
    padding: 1.6vw; /* 24px ëŒ€ì‘ */
    text-align: center; 
    font-size: 2.3vw; /* 2.2rem ëŒ€ì‘ */
    line-height: 1.8; white-space: pre-wrap; z-index: 20; 
}
.container { display: flex; justify-content: center; flex-wrap: wrap; margin-bottom: 0.5vw; }
.blur { animation: blur-text 1.2s ease-in-out forwards; font-weight: 800; margin: 0.3vw 0.5vw; }
@keyframes blur-text { 0% { filter: blur(4px); opacity: .6; } 100% { filter: blur(0); opacity: 1; } }
.text { margin: 0.3vw 0.5vw; font-weight: 200; }
.dud  { opacity: .5; }

/* === 5. ìŒì„± ì¸ì‹ UI ë° ì• ë‹ˆë©”ì´ì…˜ === */
#listening-ui { 
    position: fixed; bottom: 8%; left: 50%; transform: translateX(-50%); 
    display: flex; flex-direction: column; align-items: center; 
    gap: 1.3vw; /* 20px ëŒ€ì‘ */
    z-index: 200; 
}
#listening-ui .circle-container { 
    /* [ìˆ˜ì •] 80px -> 5.3vw */
    width: 5.3vw; height: 5.3vw; 
    position: relative; display: flex; justify-content: center; align-items: center; 
}

/* (ì§€ë‚œë²ˆ ìˆ˜ì •) í°íŠ¸ í¬ê¸° ë° ìœ„ì¹˜ ê³ ì • */
#listening-ui #statusText { 
    font-family: var(--font-sub); 
    font-weight: 500; 
    /* [ìˆ˜ì •] í°íŠ¸ í¬ê¸° ë°˜ì‘í˜•ìœ¼ë¡œ ë³€ê²½ */
    font-size: 1.1vw; 
    color: var(--color-text-secondary); 
    white-space: nowrap; 
    min-height: 1.2em; 
}

#listening-ui .ring { 
    position: absolute; 
    border-radius: 50%; 
    background-color: var(--color-black); 
}

/* â–¼â–¼â–¼ [ìˆ˜ì •] transitionì—ì„œ íƒ€ì´ë° í•¨ìˆ˜ ì œê±°, .is-listeningì—ë„ ease-in-out ì ìš© â–¼â–¼â–¼ */
#circle {
    /* [ìˆ˜ì •] ê¸°ë³¸ í¬ê¸° ì„¤ì • (20px -> 1.3vw) */
    width: 1.3vw;
    height: 1.3vw;

    /* ì• ë‹ˆë©”ì´ì…˜ ì´ë¦„ ì§€ì • */
    animation-name: breathingWave;
    animation-iteration-count: infinite;
    
    /* ê¸°ë³¸ ìƒíƒœ (ëŠë¦° í˜¸í¡) */
    animation-duration: 2.2s;
    animation-timing-function: ease-in-out; /* ğŸ‘ˆ íƒ€ì´ë° í•¨ìˆ˜ ê³ ì • */
    
    /* ì• ë‹ˆë©”ì´ì…˜ 'ì†ë„'ë§Œ ë¶€ë“œëŸ½ê²Œ ì „í™˜ */
    transition: animation-duration 0.5s ease-in-out;
}

#circle.is-listening {
    /* ìŒì„± ì¸ì‹ ì¤‘ ìƒíƒœ (ë¹ ë¥¸ í˜¸í¡) */
    animation-duration: 1.0s;
    animation-timing-function: ease-in-out; /* ğŸ‘ˆ íƒ€ì´ë° í•¨ìˆ˜ í†µì¼ */
}

/* [ìˆ˜ì •] ë‹¨ì¼ í‚¤í”„ë ˆì„ - í¬ê¸° vw ë³€í™˜ */
@keyframes breathingWave { 
  0%, 100% { width: 1.3vw; height: 1.3vw; opacity: 1; } /* 20px */
  50% { width: 4vw; height: 4vw; opacity: 0.85; } /* 60px */
}
/* â–²â–²â–² ìˆ˜ì • ì™„ë£Œ â–²â–²â–² */


/* === 6. ì˜¤ë²„ë ˆì´/ìœ í‹¸ === */
#blur-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; backdrop-filter: blur(12px); background-color: rgba(0, 0, 0, 0.25); z-index: 9999; }
.hidden { display: none !important; }

/* === 9. íŒŒí‹°í´ ì• ë‹ˆë©”ì´ì…˜ ìº”ë²„ìŠ¤ === */
#particleCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: transparent;
    z-index: 45; 
    pointer-events: none;
    transition: opacity 0.5s ease;
}
#particleCanvas:not(.hidden) {
    opacity: 1;
}

/* === 10. AI ì¶”ì²œ UI ìŠ¤íƒ€ì¼ === */
#inspiration-ui { 
    position: fixed; top: 40%; left: 50%; transform: translate(-50%, -50%); 
    width: 100%; max-width: 90vw; 
    /* [ìˆ˜ì •] íŒ¨ë”© ë³€í™˜ */
    padding: 1.3vw; 
    box-sizing: border-box; display: flex; flex-direction: column; align-items: center; z-index: 100; 
}
.inspiration-header { text-align: center; margin-bottom: 2vw; }
.inspiration-header h1 { 
    font-family: var(--font-main); 
    /* [ìˆ˜ì •] clamp ì œê±° í›„ vw */
    font-size: 2.2vw; 
    font-weight: 700; color: var(--color-text-primary); margin: 0 0 0.8vw 0; 
}
.inspiration-header p { 
    font-family: var(--font-main); 
    font-size: 1.2vw; 
    font-weight: 400; color: var(--color-text-secondary); margin: 0; line-height: 1.5; 
}
.inspiration-chips { display: flex; justify-content: center; flex-wrap: wrap; gap: 0.8vw; }
.chip { 
    display: inline-block; 
    /* [ìˆ˜ì •] íŒ¨ë”©/í°íŠ¸ ë³€í™˜ */
    padding: 0.7vw 1.3vw; 
    font-family: var(--font-sub); 
    font-size: 1.1vw; 
    color: #888888; background-color: transparent; border: 1px solid #d0d0d0; border-radius: 3.3vw; transition: all 0.2s ease; cursor: default; 
}
.chip:hover { border-color: #a0a0d0; color: var(--color-text-primary); }

/* â–¼â–¼â–¼ [ì¶”ê°€] ê³µí†µ ê°€ì´ë“œ 'Pill' ìŠ¤íƒ€ì¼ (CarPlay/Infotainment ì°¸ê³ ) â–¼â–¼â–¼ */
.guide-pill {
    position: fixed;
    /* [ìˆ˜ì •] ìœ„ì¹˜ ë° í¬ê¸° vw/vh ë³€í™˜ */
    top: 3vh; /* 30px */
    left: 50%;
    z-index: 100;

    padding: 0.8vw 1.6vw; /* 12px 24px */
    background-color: rgba(255, 255, 255, 0.85); 
    backdrop-filter: blur(10px); 
    
    border: 1px solid rgba(0, 0, 0, 0.05); 
    border-radius: 2vw; /* 30px */
    box-shadow: 0 0.3vw 1.3vw rgba(0, 0, 0, 0.06); 
    
    font-family: var(--font-main); 
    font-size: 1.2vw; /* 1.1rem */
    font-weight: 500; 
    color: #444444; 
    
    text-align: center;
    white-space: nowrap;
}
/* â–²â–²â–² [ì¶”ê°€ ì™„ë£Œ] â–²â–²â–² */

/* === 11. ë‹µë³€ ìœ ë„ ì•ˆë‚´ë¬¸ ìŠ¤íƒ€ì¼ === */
.response-guides-container { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: flex; flex-direction: row; gap: 30vw; z-index: 200; transition: opacity 0.6s ease-out, transform 0.6s ease-out; }

.text-guide { 
    /* [ìˆ˜ì •] í°íŠ¸ í¬ê²Œ í‚¤ì›€ */
    font-size: 2.5vw; 
    font-weight: 700; color: var(--color-text-secondary); animation: pulse-text 3s infinite ease-in-out; cursor: pointer; transition: color 0.2s ease, transform 0.2s ease; 
}
.text-guide:nth-child(2) { animation-delay: -1.5s; }
.text-guide:hover {
    color: var(--color-text-primary);
    transform: scale(1.05); /* pulseì˜ 50% ì§€ì ê³¼ ë™ì¼í•˜ê²Œ */
}

@keyframes pulse-text { 0%, 100% { transform: scale(1); opacity: 0.7; } 50% { transform: scale(1.05); opacity: 1; } }

/* â–¼â–¼â–¼ [ìˆ˜ì •] .guide-pill ìŠ¤íƒ€ì¼ì„ ìƒì†ë°›ë„ë¡ ë¦¬íŒ©í† ë§ â–¼â–¼â–¼ */
.re-prompt-guide {
    /* .guide-pillì—ì„œ ìœ„ì¹˜(top, left), í°íŠ¸, íŒ¨ë”©, ë°°ê²½, í…Œë‘ë¦¬, ê·¸ë¦¼ì ë“± ëŒ€ë¶€ë¶„ì˜ ìŠ¤íƒ€ì¼ì„ ìƒì†ë°›ìŒ */
    
    /* ê³ ìœ í•œ ìŠ¤íƒ€ì¼(ì• ë‹ˆë©”ì´ì…˜, í¬ì¸í„° ì´ë²¤íŠ¸)ë§Œ ë‚¨ê¹€ */
    pointer-events: none;
    opacity: 0;
    
    /* .guide-pillì˜ transform: translateX(-50%) ì™€ ë³‘í•© */
    transform: translate(-50%, 0) scale(0.95); 
    
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
}

.re-prompt-guide.visible {
    opacity: 1;
    transform: translate(-50%, 0) scale(1); /* .guide-pillì˜ transformê³¼ ë³‘í•© */
}
/* â–²â–²â–² [ìˆ˜ì • ì™„ë£Œ] â–²â–²â–² */


/* === 12. ì—í”¼ì†Œë“œ ì„ íƒ í™”ë©´ ìŠ¤íƒ€ì¼ === */
#episode-selection-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; opacity: 1; transition: opacity 0.5s ease; background-color: var(--color-bg); z-index: 50; }

/* â–¼â–¼â–¼ [ìˆ˜ì •] .guide-pill ìŠ¤íƒ€ì¼ì„ ìƒì†ë°›ë„ë¡ ë¦¬íŒ©í† ë§ â–¼â–¼â–¼ */
.info-text {
    /* .guide-pillì—ì„œ ëŒ€ë¶€ë¶„ì˜ ìŠ¤íƒ€ì¼ì„ ìƒì†ë°›ìŒ */
    
    /* .guide-pillì˜ transformê³¼ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ transform ì›ë³¸ ìœ ì§€ */
    transform: translateX(-50%);
}
/* â–²â–²â–² [ìˆ˜ì • ì™„ë£Œ] â–²â–²â–² */

#viewport { width: 100vw; height: 100vh; overflow: hidden; cursor: grab; position: relative; }
#stage { position: absolute; width: 300vw; height: 300vh; left: 0; top: 0; transform-origin: 0 0; }

/* [ìˆ˜ì •] ì±… í¬ê¸°ë¥¼ px -> vwë¡œ ê³ ì •í•˜ì—¬ ë¹„ìœ¨ ìœ ì§€ */
.book { 
    position: absolute; 
    width: 16.5vw; /* 250px */
    height: 23.1vw; /* 350px */
    background-color: #ffffff; border: 1px solid var(--color-border); border-radius: 0.5vw; 
    box-shadow: 0 0.3vw 1.3vw rgba(0, 0, 0, 0.07); 
    padding: 1.6vw; /* 25px */
    box-sizing: border-box; display: flex; flex-direction: column; justify-content: flex-end; transition: transform 0.2s ease-out, box-shadow 0.2s ease-out; cursor: pointer; 
}
.book:hover { transform: translateY(-0.6vw) scale(1.05); box-shadow: 0 0.6vw 2vw rgba(0, 0, 0, 0.1); }
.book h2 { font-size: 1.8vw; margin: 0 0 0.3vw 0; text-align: left; }
.book p { font-size: 1vw; color: var(--color-text-secondary); margin: 0; text-align: left; }

#episode-tooltip {
    position: fixed;
    /* [ìˆ˜ì •] 300px -> 20vw */
    width: 20vw;
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 0.8vw;
    box-shadow: 0 0.5vw 2vw rgba(0, 0, 0, 0.12);
    padding: 1.3vw;
    box-sizing: border-box;
    z-index: 100;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    pointer-events: none;
}
#episode-tooltip.visible {
    opacity: 1;
    transform: translateY(0);
}
#tooltip-title {
    font-size: 1.3vw; /* 1.2rem */
    font-weight: 600;
    margin: 0 0 0.5vw 0;
    color: var(--color-text-primary);
}
#tooltip-description {
    font-size: 1vw; /* 0.9rem */
    line-height: 1.6;
    color: #444;
    margin: 0;
}

/* === 13. ìŠ¤í¬ë¦½íŠ¸ ë·° ìŠ¤íƒ€ì¼ === */
#script-view {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    
    background: rgba(255, 255, 255, 0.7);

    z-index: 40;
    display: flex;
    justify-content: center;
    align-items: center;
    
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.5s ease;
}
#script-view:not(.hidden) {
    pointer-events: auto;
}

.script-content-wrapper {
    /* [ìˆ˜ì •] 5K ëŒ€ì‘ì˜ í•µì‹¬: max-width 700px ì œí•œì„ í’€ê³  í™”ë©´ ë¹„ìœ¨ë¡œ ë³€ê²½ */
    width: 60vw;
    height: 75vh;
    max-width: none; /* 700px ì œí•œ í•´ì œ */
    
    background-color: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: 0.8vw;
    box-shadow: 0 0.5vw 2vw rgba(0, 0, 0, 0.08);
    overflow-y: auto;
    padding: 2.6vw; /* 40px */
    box-sizing: border-box;
}

.script-content-wrapper::-webkit-scrollbar { width: 6px; }
.script-content-wrapper::-webkit-scrollbar-track { background: transparent; }
.script-content-wrapper::-webkit-scrollbar-thumb { background: #ccc; border-radius: 3px; }

.script-content { width: 100%; }
#script-body {
    width: 100%;
    /* [ìˆ˜ì •] í°íŠ¸ í‚¤ì›€ */
    font-size: 1.6vw; /* 1.4rem */
    line-height: 2.2;
    color: var(--color-text-primary);
    text-align: center;
}
#script-body .line {
    white-space: pre-wrap;
    word-break: keep-all;
    opacity: 1;
    transition: opacity 0.4s ease, color 0.4s ease, transform 0.4s ease;
}
#script-body.playing .line {
    opacity: 0.35;
    color: #aaa;
}
#script-body.playing .line.active {
    opacity: 1;
    color: var(--color-text-primary);
    transform: scale(1.01);
}
#close-button {
    position: fixed;
    top: 2vw;
    right: 2.6vw;
    font-size: 3vw; /* 3rem */
    background: none;
    border: none;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: transform 0.2s ease;
    z-index: 210;
    pointer-events: auto;
}
#close-button:hover {
    transform: scale(1.1);
}
@media (max-width: 768px) {
    .script-content-wrapper { padding: 10vh 20px 15vh; }
    #script-body { font-size: 1.2rem; line-height: 2; }
}

/* === 14. íŒíŠ¸ ìŠ¤ë‚µë°” ìŠ¤íƒ€ì¼ (ê¸°ì¡´ê³¼ ë™ì¼) === */
#hint-snackbar {
    position: fixed;
    z-index: 2000;
    top: 2vw; /* 30px */
    right: 2vw; /* 30px */
    background-color: var(--color-bg, #fff);
    border: 1px solid var(--color-border, #e0e0e0);
    border-radius: 0.6vw;
    box-shadow: 0 0.3vw 1.3vw rgba(0, 0, 0, 0.08);
    display: flex;
    align-items: center;
    padding: 0.8vw 1.2vw; /* 12px 18px */
    width: auto;
    max-width: 28vw; /* 420px ëŒ€ì‘ */
    font-family: var(--font-sub, 'Apple SD Gothic Neo');
    font-weight: 500;
    font-size: 0.9vw; /* 14px */
    color: var(--color-text-primary, #222);
    visibility: hidden;
    opacity: 0;
    transform: translateX(100%); /* ì˜¤ë¥¸ìª½ ë°– */
    transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1), 
                opacity 0.5s cubic-bezier(0.23, 1, 0.32, 1), 
                visibility 0.5s;
}

#hint-snackbar.show {
    visibility: visible;
    opacity: 1;
    transform: translateX(0); /* ì œìë¦¬ë¡œ */
}

.snackbar-icon {
    display: grid;
    place-items: center;
    flex-shrink: 0;
    width: 1.3vw; height: 1.3vw; /* 20px */
    margin-right: 0.8vw;
    border-radius: 50%;
    background-color: var(--color-border, #e0e0e0);
    color: var(--color-text-secondary, #888);
    font-size: 0.9vw;
    font-weight: 700;
    line-height: 1;
    font-family: 'Times New Roman', Times, serif;
}

#snackbar-text {
    line-height: 1.5;
}